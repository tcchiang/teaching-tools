<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æŠ½ç±¤åˆ†çµ„</title>
  <style>
    :root{
      --bg:#0b1020;          /* æ·±è‰²èƒŒæ™¯ */
      --panel:#131a2a;       /* é¢æ¿åº• */
      --muted:#8ea0c6;       /* æ¬¡è¦å­—è‰² */
      --text:#e8eeff;        /* ä¸»è¦å­—è‰² */
      --accent:#6aa6ff;      /* å¼·èª¿è‰² */
      --ok:#32d296;
      --warn:#ffcc00;
      --danger:#ff6b6b;
      --card-blue:#3b82f6;   /* è— */
      --card-red:#ef4444;    /* ç´… */
      --card-green:#22c55e;  /* ç¶  */
      --card-yellow:#eab308; /* é»ƒ */
      --border:#24324d;
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; background:radial-gradient(1200px 700px at 20% -10%, #1a2340 0%, var(--bg) 60%);
      color:var(--text); font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;
    }
    h1{font-size:22px; margin:0 0 12px 0; letter-spacing:.5px}

    .app{display:flex; gap:14px; padding:16px; height:100vh;}

    .left, .right{
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0));
      border:1px solid var(--border); border-radius:14px; padding:14px; min-height:0;
      box-shadow: 0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.04);
    }
    .left{flex:1; display:flex; flex-direction:column;}
    .right{flex:2; display:flex; flex-direction:column;}

    .controls{display:grid; grid-template-columns: 1fr; gap:10px; margin-bottom:12px}
    .row{display:flex; align-items:center; gap:10px; flex-wrap:wrap}

    input[type="number"], input[type="text"], .pseudo-input{
      background:#0e1527; border:1px solid var(--border); color:var(--text); border-radius:10px; padding:10px 12px; outline:none;
      transition:border-color .15s ease;
    }
    input[type="number"]:focus{border-color:var(--accent)}

    button{
      background:linear-gradient(180deg, #2a3a60, #1b2744);
      color:var(--text); border:1px solid var(--border); border-radius:10px; padding:10px 14px; cursor:pointer;
      transition: transform .05s ease, opacity .2s ease, filter .2s ease, background .2s ease;
    }
    button:active{transform:translateY(1px)}
    button:disabled{opacity:.5; cursor:not-allowed; filter:saturate(.4)}

    .file{position:relative;}
    .file input{display:none}
    .file .label{display:inline-flex; align-items:center; gap:8px}

    .stats{font-size:13px; color:var(--muted)}

    .list-wrap{flex:1; min-height:0; display:flex; flex-direction:column}
    .list-head{display:flex; justify-content:space-between; align-items:center; margin:6px 2px 8px}

    .name-list{
      flex:1; min-height:0; overflow:auto; border:1px solid var(--border); border-radius:12px; background:#0e1527;
    }
    .name-item{padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.04); cursor:pointer; user-select:none;}
    .name-item:last-child{border-bottom:none}
    .name-item:hover{background:rgba(106,166,255,.08)}
    .name-item.disabled{color:#7a87a8; cursor:not-allowed; background:transparent}
    .name-item.selected{outline:2px solid var(--accent); background:rgba(106,166,255,.12)}

    .cards{display:grid; grid-template-columns: repeat(4, minmax(120px,1fr)); gap:12px; margin-bottom:12px;}

    .card{
      perspective:1000px; height:120px; border-radius:14px; position:relative; filter:drop-shadow(0 6px 16px rgba(0,0,0,.35));
    }
    .card-inner{
      position:absolute; inset:0; transition: transform .6s cubic-bezier(.2,.65,.2,1);
      transform-style: preserve-3d;
    }
    .card.covered .card-inner{transform: rotateY(0deg)}
    .card.revealed .card-inner{transform: rotateY(180deg)}

    .face{
      position:absolute; inset:0; backface-visibility:hidden; border-radius:14px; display:flex; align-items:center; justify-content:center;
      border:1px solid rgba(0,0,0,.18);
    }
    .front{background:linear-gradient(180deg, #1b2744, #0e1527); color:#c9d6ff; font-weight:700; letter-spacing:2px}
.front.blue{background:linear-gradient(180deg, var(--card-blue), #2b5fb6); color:#fff;}
.front.red{background:linear-gradient(180deg, var(--card-red), #b12b2b); color:#fff;}
.front.green{background:linear-gradient(180deg, var(--card-green), #15803d); color:#fff;}
.front.yellow{background:linear-gradient(180deg, var(--card-yellow), #b58107); color:#fff;}	
	
    .back{transform: rotateY(180deg); color:#0d1222; font-weight:900; font-size:32px; text-shadow: 0 2px 0 rgba(255,255,255,.5)}

    .back.blue{background:linear-gradient(180deg, var(--card-blue), #2b5fb6)}
    .back.red{background:linear-gradient(180deg, var(--card-red), #b12b2b)}
    .back.green{background:linear-gradient(180deg, var(--card-green), #15803d)}
    .back.yellow{background:linear-gradient(180deg, var(--card-yellow), #b58107)}

    .hint{font-size:13px; color:var(--muted); margin:2px 0 10px}

    .results-wrap{flex:1; min-height:0; display:flex; flex-direction:column}
    .grid{
      flex:1; min-height:0; overflow:auto; border:1px solid var(--border); border-radius:12px; background:#0e1527; padding:10px; display:grid; gap:10px;
    }
    /* å‹•æ…‹è¨­å®šæ¬„æ•¸ */
    .grid.cols-1{grid-template-columns: repeat(1, minmax(180px, 1fr));}
    .grid.cols-2{grid-template-columns: repeat(2, minmax(180px, 1fr));}
    .grid.cols-3{grid-template-columns: repeat(3, minmax(180px, 1fr));}
    .grid.cols-4{grid-template-columns: repeat(4, minmax(180px, 1fr));}
    .grid.cols-5{grid-template-columns: repeat(5, minmax(180px, 1fr));}
    .grid.cols-6{grid-template-columns: repeat(6, minmax(180px, 1fr));}
    .grid.cols-7{grid-template-columns: repeat(7, minmax(180px, 1fr));}
    .grid.cols-8{grid-template-columns: repeat(8, minmax(180px, 1fr));}
    .grid.cols-9{grid-template-columns: repeat(9, minmax(180px, 1fr));}
    .grid.cols-10{grid-template-columns: repeat(10, minmax(180px, 1fr));}

    .group-col{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.0)); border:1px solid var(--border); border-radius:10px; display:flex; flex-direction:column; min-height:120px}
    .group-head{padding:8px 10px; border-bottom:1px dashed rgba(255,255,255,.08); display:flex; justify-content:space-between; align-items:center}
    .group-title{font-weight:700}
    .group-cap{font-size:12px; color:var(--muted)}
    .members{padding:8px 10px; display:flex; flex-direction:column; gap:8px}
    .member{padding:6px 8px; background:#111a30; border:1px solid rgba(255,255,255,.06); border-radius:8px}

    .footer-note{font-size:12px; color:var(--muted); margin-top:6px}

    /* é«˜åº¦èª¿æ•´ï¼Œç¢ºä¿å·¦å³å…©è¡¨æ ¼éƒ½å¯æ²å‹• */
    .name-list, .grid{max-height: calc(100vh - 260px);} /* ä¾ä¸Šæ–¹æ§åˆ¶å€é«˜åº¦å¤§è‡´æ¨ä¼° */

  </style>
</head>
<body>
  <div class="app">
    <!-- å·¦å´ -->
    <section class="left">
      <h1>æŠ½ç±¤åˆ†çµ„ Â· å·¦å´ï¼ˆæ“ä½œèˆ‡å§“åï¼‰</h1>
      <div class="controls">
        <div class="row">
          <label class="file">
            <input id="fileInput" type="file" accept=".txt,text/plain" />
            <button id="btnImport" class="label">ğŸ“¥ åŒ¯å…¥å§“å (TXT, UTF-8)</button>
          </label>
          <span class="stats" id="stats">å°šæœªåŒ¯å…¥åå–®</span>
        </div>
        <div class="row">
          <label for="groupCount">çµ„åˆ¥æ•¸é‡ Gï¼š</label>
          <input id="groupCount" type="number" min="1" placeholder="è«‹è¼¸å…¥çµ„æ•¸ (G)" style="width:160px">
          <button id="btnStart" disabled>â–¶ï¸ é–‹å§‹åˆ†çµ„</button>
          <button id="btnReset" disabled>ğŸ”„ é‡æ–°åˆ†çµ„</button>
        </div>
      </div>

      <div class="list-wrap">
        <div class="list-head">
          <div>å§“åæ¸…å–®</div>
          <div class="stats" id="capacityNote">â€”</div>
        </div>
        <div id="nameList" class="name-list"></div>
      </div>
    </section>

    <!-- å³å´ -->
    <section class="right">
      <h1>æŠ½ç±¤åˆ†çµ„ Â· å³å´ï¼ˆæŠ½å¡èˆ‡çµæœï¼‰</h1>
      <div class="cards" id="cards"></div>
      <div class="hint" id="hint">è«‹å…ˆåœ¨å·¦å´é»é¸ä¸€ä½åŒå­¸çš„å§“åï¼Œå°‡ç‚ºè©²åŒå­¸ç”¢ç”Ÿå¯æŠ½å–çš„å¡ç‰‡ã€‚</div>

      <div class="results-wrap">
        <div class="list-head">
          <div>åˆ†çµ„çµæœ</div>
          <div class="stats" id="fillStats">â€”</div>
        </div>
        <div id="resultGrid" class="grid"></div>
        <div class="footer-note">æç¤ºï¼šè‹¥å…§å®¹éé•·ï¼Œå·¦å³å€å¡Šéƒ½å¯ä»¥å€‹åˆ¥æ²å‹•æª¢è¦–ã€‚</div>
      </div>
    </section>
  </div>

  <script>
  /*** ç‹€æ…‹ ***/
  const state = {
    students: [],              // { name, assigned: number | null }
    groupingStarted: false,
    G: 0,
    capacities: [],            // 1..G: å‰©é¤˜åé¡
    capacitiesInit: [],        // åˆå§‹åé¡ (é¡¯ç¤ºç”¨)
    selectedStudentIdx: null,  // å·¦å´ç›®å‰é»é¸æº–å‚™æŠ½å¡çš„å­¸ç”Ÿ idx
    bagForCards: [],           // ç”¨æ–¼ç”Ÿæˆå¡ç‰‡çš„ groupID è¢‹å­
  };

  /*** DOM å¿«å– ***/
  const el = {
    fileInput: document.getElementById('fileInput'),
    btnImport: document.getElementById('btnImport'),
    stats: document.getElementById('stats'),
    capacityNote: document.getElementById('capacityNote'),
    groupCount: document.getElementById('groupCount'),
    btnStart: document.getElementById('btnStart'),
    btnReset: document.getElementById('btnReset'),
    nameList: document.getElementById('nameList'),
    cards: document.getElementById('cards'),
    hint: document.getElementById('hint'),
    resultGrid: document.getElementById('resultGrid'),
    fillStats: document.getElementById('fillStats'),
  };

  /*** å·¥å…· ***/
  const sleep = (ms)=> new Promise(r=>setTimeout(r, ms));
  function shuffle(arr){
    const a = arr.slice();
    for(let i=a.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [a[i],a[j]]=[a[j],a[i]];
    }
    return a;
  }

  /*** åŒ¯å…¥å§“å ***/
  el.btnImport.addEventListener('click', ()=> el.fileInput.click());
  el.fileInput.addEventListener('change', async (e)=>{
    const file = e.target.files?.[0];
    if(!file) return;

    // é‡æ–°åŒ¯å…¥ â†’ è¦–ç‚ºæ•´å€‹æµç¨‹é‡ä¾†
    resetAll();

    const text = await file.text(); // é è¨­ä¾ç€è¦½å™¨ä»¥ UTF-8 è§£æ
    const lines = text.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
    state.students = lines.map(name=>({name, assigned:null}));

    el.stats.textContent = `å·²åŒ¯å…¥ ${state.students.length} ä½`;
    renderStudentList();
    updateStartButtonState();
  });

  function updateStartButtonState(){
    const g = parseInt(el.groupCount.value,10);
    const gOk = Number.isInteger(g) && g>0;
    el.btnStart.disabled = !(gOk && state.students.length>0 && !state.groupingStarted);
  }
  el.groupCount.addEventListener('input', updateStartButtonState);

  /*** é–‹å§‹ / é‡æ–°åˆ†çµ„ ***/
  el.btnStart.addEventListener('click', ()=>{
    if(el.btnStart.disabled) return;
    const g = parseInt(el.groupCount.value,10);
    if(!Number.isInteger(g) || g<=0){
      alert('è«‹å…ˆè¼¸å…¥æ­£ç¢ºçš„çµ„åˆ¥æ•¸é‡ (G)');
      return;
    }
    state.G = g;
    state.groupingStarted = true;
    // è¨ˆç®—å®¹é‡ï¼šå¹³å‡åˆ†é…ï¼Œå‰ remainder çµ„ +1
    const N = state.students.length;
    const base = Math.floor(N / g);
    const r = N % g;
    state.capacities = Array.from({length:g}, (_,i)=> base + (i<r?1:0));
    state.capacitiesInit = state.capacities.slice();

    // é–å®š/åˆ‡æ›æŒ‰éˆ•
    el.groupCount.disabled = true;
    el.btnStart.disabled = true;
    el.btnReset.disabled = false;

    renderCapacityNote();
    buildResultGrid();
    renderFillStats();
  });

  el.btnReset.addEventListener('click', ()=>{
    // æ¸…ç©ºæ‰€æœ‰åˆ†é…ï¼Œæ¢å¾© G å¯æ”¹
    if(!confirm('ç¢ºå®šè¦é‡æ–°åˆ†çµ„ï¼Ÿæ‰€æœ‰å·²åˆ†é…çµæœå°‡è¢«æ¸…é™¤ã€‚')) return;
    state.groupingStarted = false;
    state.G = 0;
    state.capacities = [];
    state.capacitiesInit = [];
    state.selectedStudentIdx = null;
    state.bagForCards = [];

    // å·¦å´å§“åæ¢å¾©å¯é»
    state.students = state.students.map(s=>({name:s.name, assigned:null}));
    renderStudentList();

    // å³å´æ¸…ç©º
    el.resultGrid.className = 'grid';
    el.resultGrid.innerHTML = '';
    el.cards.innerHTML = '';
    el.hint.textContent = 'è«‹å…ˆåœ¨å·¦å´é»é¸ä¸€ä½åŒå­¸çš„å§“åï¼Œå°‡ç‚ºè©²åŒå­¸ç”¢ç”Ÿå¯æŠ½å–çš„å¡ç‰‡ã€‚';
    el.capacityNote.textContent = 'â€”';
    el.fillStats.textContent = 'â€”';

    // æŒ‰éˆ•èˆ‡è¼¸å…¥
    el.groupCount.disabled = false;
    el.btnStart.disabled = true;
    el.btnReset.disabled = true;
  });

  function resetAll(){
    // å®Œæ•´é‡ç½®ï¼ˆç”¨æ–¼é‡æ–°åŒ¯å…¥å§“åï¼‰
    state.students = [];
    state.groupingStarted = false;
    state.G = 0;
    state.capacities = [];
    state.capacitiesInit = [];
    state.selectedStudentIdx = null;
    state.bagForCards = [];

    el.groupCount.value = '';
    el.groupCount.disabled = false;
    el.btnStart.disabled = true;
    el.btnReset.disabled = true;

    el.nameList.innerHTML = '';
    el.resultGrid.className = 'grid';
    el.resultGrid.innerHTML = '';
    el.cards.innerHTML = '';
    el.stats.textContent = 'å°šæœªåŒ¯å…¥åå–®';
    el.capacityNote.textContent = 'â€”';
    el.fillStats.textContent = 'â€”';
    el.hint.textContent = 'è«‹å…ˆåœ¨å·¦å´é»é¸ä¸€ä½åŒå­¸çš„å§“åï¼Œå°‡ç‚ºè©²åŒå­¸ç”¢ç”Ÿå¯æŠ½å–çš„å¡ç‰‡ã€‚';
  }

  function renderCapacityNote(){
    if(!state.groupingStarted) return;
    const parts = state.capacitiesInit.map((cap,i)=>`ç¬¬${i+1}çµ„ï¼š${cap} äºº`);
    el.capacityNote.textContent = `å„çµ„åé¡ï¼ˆåˆå§‹ï¼‰ï¼š${parts.join('ï¼Œ')}`;
  }

  /*** å·¦å´å§“åæ¸…å–® ***/
  function renderStudentList(){
    const frag = document.createDocumentFragment();
    state.students.forEach((s, idx)=>{
      const div = document.createElement('div');
      div.className = 'name-item' + (s.assigned!=null ? ' disabled' : '') + (state.selectedStudentIdx===idx? ' selected' : '');
      div.textContent = s.name;
      if(s.assigned==null){
        div.addEventListener('click', ()=> onClickStudent(idx));
      }
      frag.appendChild(div);
    });
    el.nameList.innerHTML = '';
    el.nameList.appendChild(frag);
  }

  function onClickStudent(idx){
    if(!state.groupingStarted){
      alert('è«‹å…ˆæŒ‰ã€Œé–‹å§‹åˆ†çµ„ã€ï¼Œå†æŠ½å¡åˆ†çµ„ã€‚');
      return;
    }
    if(state.students[idx].assigned!=null) return;
    state.selectedStudentIdx = idx;
    renderStudentList();
    prepareCards();
  }

  /*** æº–å‚™å¡ç‰‡ï¼ˆä¾å‰©é¤˜åé¡ç”Ÿæˆ 1~4 å¼µï¼‰ ***/
  function prepareCards(){
    // å»ºç«‹ group è¢‹ï¼šä¾å‰©é¤˜åé¡é‡è¤‡æ”¾å…¥ groupId
    const bag = [];
    state.capacities.forEach((cap, i)=>{
      for(let k=0;k<cap;k++) bag.push(i+1); // groupId å¾ 1 é–‹å§‹
    });
    // æ‰€æœ‰çµ„éƒ½æ»¿äº†
    if(bag.length===0){
      el.cards.innerHTML = '';
      el.hint.textContent = 'æ‰€æœ‰çµ„åˆ¥å‡å·²æ»¿å“¡ã€‚';
      return;
    }
    // éš¨æ©ŸæŠ½å–æœ€å¤š 4 å¼µï¼ˆä¸æ”¾å›ï¼‰ï¼Œä½†è¢‹å…§å¯èƒ½æœ‰é‡è¤‡ groupId â†’ å…è¨±åŒçµ„å‡ºç¾å¤šå¼µå¡
    const shuffled = shuffle(bag);
    const pick = shuffled.slice(0, Math.min(4, shuffled.length));

    // ä¾éœ€æ±‚ï¼šå¡ç‰‡é¡è‰²å›ºå®šè—ã€ç´…ã€ç¶ ã€é»ƒï¼Œä½†å¡ç‰‡é †åºï¼ˆåŠå°æ‡‰çµ„åˆ¥ï¼‰éš¨æ©Ÿ
    const colors = ['blue','red','green','yellow'];
    const cardData = pick.map((gid, i)=>({ gid, color: colors[i] }));

    el.cards.innerHTML = '';
    cardData.forEach((c, idx)=> el.cards.appendChild(makeCard(c, idx)));
    el.hint.textContent = `å·²é¸å–ã€Œ${state.students[state.selectedStudentIdx].name}ã€ï¼Œè«‹é»æ“Šä¸Šæ–¹å¡ç‰‡ä»¥æ±ºå®šåˆ†çµ„ã€‚`;
  }

  /*** ç”Ÿæˆå–®å¼µå¡ç‰‡ï¼ˆè¦†è“‹â†’ç¿»ç‰Œå‹•ç•«ï¼‰ ***/
  function makeCard({gid, color}, index){
    const holder = document.createElement('div');
    holder.className = 'card covered';

    const inner = document.createElement('div');
    inner.className = 'card-inner';

    const front = document.createElement('div');
    front.className = `face front ${color}`;
    front.textContent = 'é»æˆ‘æŠ½å¡';

    const back = document.createElement('div');
    back.className = `face back ${color}`;
    back.textContent = gid;

    inner.appendChild(front);
    inner.appendChild(back);
    holder.appendChild(inner);

    holder.addEventListener('click', async ()=>{
      if(holder.classList.contains('revealed')) return;
      // ç¿»ç‰Œ
      holder.classList.remove('covered');
      holder.classList.add('revealed');
      // å»¶é²ç­‰å‹•ç•«æ›´é †
      await sleep(320);
      onPickGroup(gid, holder);
    }, {once:true});

    return holder;
  }

  /*** é»æ“Šå¡ç‰‡ â†’ æŒ‡æ´¾åˆ°è©²çµ„ ***/
  function onPickGroup(groupId, clickedCardEl){
    const idx = state.selectedStudentIdx;
    if(idx==null) return;

    // æŒ‡æ´¾
    state.students[idx].assigned = groupId;
    state.capacities[groupId-1] = Math.max(0, state.capacities[groupId-1]-1);

    // å·¦å´ï¼šè©²å­¸ç”Ÿç°å­—ã€å–æ¶ˆé¸å–
    state.selectedStudentIdx = null;
    renderStudentList();

    // å³å´ï¼šæ›´æ–°çµæœè¡¨
    appendMemberToGroup(groupId, state.students[idx].name);
    renderFillStats();

    // å…¶ä»–æœªç¿»çš„å¡ç‰‡ç¦ç”¨ï¼ˆä¿æŒè¦†è“‹ç‹€æ…‹å³å¯ï¼‰
    Array.from(el.cards.children).forEach(card=>{
      if(card!==clickedCardEl){
        card.style.opacity = .5;
        card.style.pointerEvents = 'none';
      }
    });

    // è‹¥å°šæœ‰æœªæ»¿çµ„åˆ¥ï¼Œä¸‹æ¬¡éœ€è¦é‡æ–°é»å§“åæ‰æœƒå‡ºç¾æ–°ä¸€è¼ªå¡ç‰‡
    el.hint.textContent = 'å·²å®Œæˆåˆ†é…ã€‚è«‹åœ¨å·¦å´é»é¸ä¸‹ä¸€ä½åŒå­¸ä»¥ç¹¼çºŒæŠ½å¡ã€‚';
  }

  /*** å»ºç«‹å³å´çµæœè¡¨æ ¼ï¼ˆG æ¬„ï¼‰ ***/
  function buildResultGrid(){
    const g = state.G;
    el.resultGrid.className = 'grid cols-' + Math.min(g, 10);
    el.resultGrid.innerHTML = '';

    for(let i=1;i<=g;i++){
      const col = document.createElement('div');
      col.className='group-col';
      col.dataset.groupId = String(i);

      const head = document.createElement('div');
      head.className='group-head';
      const title = document.createElement('div');
      title.className='group-title';
      title.textContent = `ç¬¬ ${i} çµ„`;
      const cap = document.createElement('div');
      cap.className='group-cap';
      cap.id = `cap-${i}`;
      cap.textContent = `å‰©é¤˜ï¼š${state.capacities[i-1]} / åˆå§‹ ${state.capacitiesInit[i-1]}`;

      head.appendChild(title); head.appendChild(cap);

      const members = document.createElement('div');
      members.className='members'; members.id = `members-${i}`;

      col.appendChild(head); col.appendChild(members);
      el.resultGrid.appendChild(col);
    }
  }

  function appendMemberToGroup(groupId, name){
    const members = document.getElementById(`members-${groupId}`);
    const item = document.createElement('div');
    item.className='member';
    item.textContent = name;
    members.appendChild(item);

    // æ›´æ–°è©²çµ„ cap é¡¯ç¤º
    const cap = document.getElementById(`cap-${groupId}`);
    cap.textContent = `å‰©é¤˜ï¼š${state.capacities[groupId-1]} / åˆå§‹ ${state.capacitiesInit[groupId-1]}`;
  }

  function renderFillStats(){
    const assigned = state.students.filter(s=>s.assigned!=null).length;
    const total = state.students.length;
    el.fillStats.textContent = `å·²åˆ†é… ${assigned} / ${total}`;
  }

  </script>
</body>
</html>
